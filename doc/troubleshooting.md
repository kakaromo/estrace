# ESTrace 문제 해결 가이드

이 문서는 ESTrace 사용 중 발생할 수 있는 일반적인 문제와 해결 방법을 제공합니다.

## 설치 문제

### 애플리케이션이 실행되지 않음

**증상:** 애플리케이션 아이콘을 클릭해도 아무런 반응이 없거나 실행 후 즉시 종료됩니다.

**가능한 해결책:**

1. **의존성 문제:**
   ```bash
   # Windows에서 의존성 확인
   dxdiag
   
   # macOS에서 의존성 확인
   brew doctor
   
   # Linux에서 의존성 확인
   ldd /path/to/estrace | grep "not found"
   ```

2. **권한 문제:**
   ```bash
   # macOS/Linux에서 실행 권한 추가
   chmod +x /path/to/estrace
   ```

3. **로그 확인:**
   ```bash
   # Windows
   %APPDATA%\estrace\logs\estrace.log
   
   # macOS
   ~/Library/Logs/estrace/estrace.log
   
   # Linux
   ~/.local/share/estrace/logs/estrace.log
   ```

### 빌드 실패

**증상:** `npm run tauri build` 명령이 오류와 함께 실패합니다.

**가능한 해결책:**

1. **Node.js 버전 확인:**
   ```bash
   node --version
   # 지원되는 버전: v16 이상
   ```

2. **Rust 버전 확인:**
   ```bash
   rustc --version
   # 지원되는 버전: 1.60 이상
   ```

3. **의존성 업데이트:**
   ```bash
   npm install
   cargo update
   ```

4. **빌드 캐시 정리:**
   ```bash
   npm cache clean --force
   cargo clean
   ```

## 연결 문제

### 디바이스 감지되지 않음

**증상:** Android 디바이스가 연결되어 있지만 ESTrace에서 감지되지 않습니다.

**가능한 해결책:**

1. **USB 디버깅 확인:**
   - Android 설정 > 개발자 옵션 > USB 디버깅 활성화
   - USB 디버깅 권한 허용 (디바이스에 표시되는 팝업)

2. **ADB 확인:**
   ```bash
   adb devices
   # 연결된 디바이스 목록 확인
   ```

3. **USB 케이블 확인:**
   - 데이터 전송이 가능한 USB 케이블 사용
   - 다른 USB 포트 시도

4. **드라이버 설치:**
   - Windows에서는 제조사별 Android USB 드라이버 필요
   - [제조사 웹사이트](https://developer.android.com/studio/run/oem-usb)에서 드라이버 다운로드

### ADB 연결 오류

**증상:** "ADB server didn't ACK" 또는 "ADB connection refused" 오류가 발생합니다.

**가능한 해결책:**

1. **ADB 서버 재시작:**
   ```bash
   adb kill-server
   adb start-server
   ```

2. **포트 충돌 확인:**
   ```bash
   # Windows
   netstat -ano | findstr 5037
   
   # macOS/Linux
   netstat -anp | grep 5037
   ```

3. **ADB 경로 설정:**
   - 설정 메뉴에서 올바른 ADB 경로 지정
   - 환경 변수에 ADB 경로 추가

## 데이터 수집 문제

### 트레이스 수집 실패

**증상:** 트레이스 시작 버튼을 클릭하면 오류가 발생하거나 아무런 데이터가 수집되지 않습니다.

**가능한 해결책:**

1. **권한 확인:**
   ```bash
   # Android 터미널에서 권한 확인
   adb shell su -c "ls -l /sys/kernel/debug"
   ```

2. **디버그 인터페이스 활성화:**
   ```bash
   # 디버그 인터페이스 마운트
   adb shell su -c "mount -t debugfs debugfs /sys/kernel/debug"
   ```

3. **커널 지원 확인:**
   ```bash
   # 블록 트레이스 지원 확인
   adb shell su -c "ls -l /sys/kernel/debug/tracing/events/block"
   ```

### 불완전한 데이터

**증상:** 트레이스 데이터가 중간에 끊기거나 누락된 정보가 있습니다.

**가능한 해결책:**

1. **버퍼 크기 증가:**
   - 설정 > 트레이스 설정 > 버퍼 크기 증가

2. **시스템 부하 확인:**
   ```bash
   adb shell top
   ```

3. **데이터 저장 공간 확인:**
   ```bash
   # macOS/Linux
   df -h
   
   # Windows
   wmic logicaldisk get size,freespace,caption
   ```

## 분석 문제

### 데이터 로드 실패

**증상:** 저장된 트레이스 파일을 열 수 없거나 "Invalid format" 오류가 발생합니다.

**가능한 해결책:**

1. **파일 형식 확인:**
   ```bash
   # 파일 형식 확인
   file trace_file.json
   ```

2. **파일 복구:**
   - 백업 파일이 있는지 확인 (`.bak` 확장자)
   - 이전 버전에서 파일을 열어보기

3. **JSON 검증:**
   ```bash
   # JSON 형식 검증
   jq . trace_file.json
   ```

### 그래프 표시 문제

**증상:** 차트나 그래프가 표시되지 않거나 비정상적으로 보입니다.

**가능한 해결책:**

1. **데이터 범위 확인:**
   - 필터 설정 초기화
   - 데이터 범위를 기본값으로 재설정

2. **브라우저 콘솔 확인:**
   - F12 키를 눌러 개발자 도구 열기
   - 콘솔 탭에서 오류 확인

3. **최신 버전 확인:**
   - ESTrace 최신 버전으로 업데이트
   - 의존성 라이브러리 업데이트

## 성능 문제

### 애플리케이션 속도 저하

**증상:** 대용량 트레이스 데이터를 처리할 때 애플리케이션이 느려지거나 응답하지 않습니다.

**가능한 해결책:**

1. **하드웨어 리소스 확인:**
   ```bash
   # Windows
   Task Manager > Performance
   
   # macOS
   Activity Monitor
   
   # Linux
   htop
   ```

2. **데이터 샘플링:**
   - 설정 > 성능 > 데이터 샘플링 활성화
   - 샘플링 비율 조정

3. **캐시 정리:**
   - 설정 > 고급 > 캐시 정리
   - 애플리케이션 재시작

### 메모리 사용량 과다

**증상:** 애플리케이션이 과도한 메모리를 사용하거나 "Out of memory" 오류가 발생합니다.

**가능한 해결책:**

1. **데이터 필터링:**
   - 불필요한 데이터 필터링
   - 시간 범위 제한 설정

2. **메모리 제한 설정:**
   - 설정 > 고급 > 최대 메모리 사용량 설정

3. **정기적으로 저장:**
   - 분석 중간에 결과 저장
   - 작업을 더 작은 단위로 분할

## 내보내기 문제

### 내보내기 실패

**증상:** 데이터 내보내기 시도 시 오류가 발생하거나 빈 파일이 생성됩니다.

**가능한 해결책:**

1. **파일 권한 확인:**
   ```bash
   # 디렉토리 권한 확인
   ls -la /path/to/export/directory
   ```

2. **파일 경로 확인:**
   - 유효한 경로 지정
   - 읽기/쓰기 권한이 있는 위치 선택

3. **특수 문자 제거:**
   - 파일 이름에서 특수 문자 제거
   - 경로에 공백이 있는지 확인

### 형식 호환성 문제

**증상:** 내보낸 파일이 다른 도구와 호환되지 않습니다.

**가능한 해결책:**

1. **형식 변환:**
   - 다른 내보내기 형식 시도
   - 중간 형식으로 CSV 사용

2. **인코딩 설정:**
   - 설정 > 내보내기 > UTF-8 인코딩 선택

3. **헤더 포함 설정:**
   - CSV 내보내기 시 '헤더 포함' 옵션 활성화

## 패턴 관리 문제

### 패턴 감지 실패

**증상:** 명백한 패턴이 있지만 패턴 감지 기능이 작동하지 않습니다.

**가능한 해결책:**

1. **민감도 조정:**
   - 설정 > 패턴 > 감지 민감도 증가

2. **데이터 필터링:**
   - 노이즈가 될 수 있는 데이터 필터링
   - 관심 영역에 집중

3. **수동 패턴 정의:**
   - 패턴 에디터를 사용하여 수동으로 패턴 정의
   - 기존 패턴 템플릿 활용

### 패턴 테스트 실패

**증상:** 패턴 테스트가 예상대로 작동하지 않습니다.

**가능한 해결책:**

1. **규칙 확인:**
   - 패턴 정의 규칙 검토
   - 구문 오류 확인

2. **샘플 데이터 확인:**
   - 테스트에 적합한 샘플 데이터 선택
   - 데이터 범위 확장

3. **단계별 테스트:**
   - 복잡한 패턴을 더 작은 단위로 분할
   - 각 규칙을 개별적으로 테스트

## 일반적인 문제

### 비정상 종료

**증상:** 애플리케이션이 예기치 않게 종료됩니다.

**가능한 해결책:**

1. **로그 확인:**
   - 로그 파일에서 오류 메시지 확인
   - 크래시 레포트 확인

2. **설정 초기화:**
   ```bash
   # Windows
   del %APPDATA%\estrace\config.json
   
   # macOS
   rm ~/Library/Application\ Support/estrace/config.json
   
   # Linux
   rm ~/.config/estrace/config.json
   ```

3. **재설치:**
   - 애플리케이션 완전히 제거
   - 최신 버전 다시 설치

### 업데이트 문제

**증상:** 애플리케이션 업데이트가 실패하거나 새 버전이 정상적으로 실행되지 않습니다.

**가능한 해결책:**

1. **수동 업데이트:**
   - 공식 웹사이트에서 최신 설치 파일 다운로드
   - 기존 버전 제거 후 새로 설치

2. **설정 마이그레이션:**
   - 이전 버전의 설정 백업
   - 설치 후 설정 복원

3. **호환성 확인:**
   - 릴리즈 노트에서 호환성 정보 확인
   - 시스템 요구 사항 재확인

## 지원 요청 방법

문제가 해결되지 않는 경우:

1. **상세 정보 수집:**
   - ESTrace 버전
   - 운영체제 및 버전
   - 오류 메시지 및 로그 파일
   - 문제 재현 단계

2. **GitHub 이슈 제출:**
   - [GitHub 이슈 트래커](https://github.com/kakaromo/estrace/issues)에 방문
   - 새 이슈 생성
   - 수집한 정보를 포함하여 상세히 작성

3. **커뮤니티 포럼:**
   - [ESTrace 사용자 포럼](https://forum.estrace.com)에서 질문
   - 비슷한 문제를 겪은 다른 사용자의 해결책 검색

## 자주 묻는 질문 (FAQ)

### Q: ESTrace는 어떤 Android 버전을 지원하나요?
A: ESTrace는 Android 7.0(Nougat) 이상을 지원합니다. 최상의 결과를 위해서는 Android 9.0(Pie) 이상을 권장합니다.

### Q: 루팅되지 않은 디바이스에서도 작동하나요?
A: 일부 기능은 제한될 수 있지만, ADB 권한만으로도 기본적인 트레이스 수집이 가능합니다. 완전한 기능을 사용하려면 루팅된 디바이스를 권장합니다.

### Q: 대용량 트레이스 데이터를 처리할 수 있나요?
A: 예, ESTrace는 효율적인 데이터 처리를 위한 최적화가 되어 있습니다. 그러나 시스템 리소스에 따라 제한이 있을 수 있습니다. 매우 큰 데이터셋의 경우 샘플링 옵션을 사용하는 것이 좋습니다.

### Q: 트레이스 결과를 다른 사람과 공유할 수 있나요?
A: 예, 내보내기 기능을 사용하여 다양한 형식으로 결과를 저장하고 공유할 수 있습니다. HTML 보고서 형식은 애플리케이션이 없는 사람도 브라우저에서 결과를 확인할 수 있어 권장됩니다.

### Q: ESTrace는 실시간 모니터링을 지원하나요?
A: 예, 실시간 모니터링 모드를 사용하여 진행 중인 시스템 활동을 모니터링할 수 있습니다. 단, 이 모드는 약간의 오버헤드가 있어 테스트 환경에 영향을 줄 수 있습니다.

### Q: 다른 성능 분석 도구와 통합할 수 있나요?
A: 예, ESTrace는 표준 형식으로 데이터를 내보낼 수 있으며, API를 통해 다른 도구와 통합할 수 있습니다. 자세한 내용은 API 문서를 참조하세요.
